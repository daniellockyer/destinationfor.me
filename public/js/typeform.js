(function(){var a,b,c,d=[].slice;c="#account#.typeform.com",b=function(){function b(a){var b,c;return this.options=a,"undefined"!=typeof jQuery&&null!==jQuery&&jQuery.fn.jquery>="1.9"?(this.jQuery=jQuery,void this.initialise()):(c=document.createElement("script"),c.src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js",c.onload=function(a){return function(){return a.jQuery=jQuery.noConflict(!0),a.initialise()}}(this),b=document.head||document.getElementsByTagName("head")[0],void b.appendChild(c))}var d,e;return e="//"+c+"/app/embed/#uid#",d=[],b.prototype.template={wrapper:'<div class="typeform-wrapper"></div>',iframe:'<iframe width="100%" height="100%" frameborder="0" src="#url#"></iframe>'},b.prototype.jQuery=null,b.prototype.initialise=function(){var b,d;return d=this,b=this.jQuery,this.$typeforms=b(".typeform-widget"),/mobile|tablet|android/i.test(navigator.userAgent.toLowerCase())?(b("body").addClass("typeform-mobile"),d=this,this.$typeforms.each(function(){var c,f,g,h,i;return c=b(this),g=c.data("url").split("/")[2].split(".")[0],i=c.data("url").split("/")[4].split("?")[0],f=b(d.template.wrapper),f.css({position:"relative",width:"100%",height:"100%"}),h={},h.uid=i,h.account=g,h.text=b(this).data("text"),h.url=b(this).data("url"),b.getJSON(e.replace("#uid#",h.uid).replace("#account#",h.account)+"?jsoncallback=?",function(e){var g;return b.extend(h,e),g=new a(b,h),c.append(f.append(g.render())),setTimeout(function(){return g.resize(),setTimeout(function(){return d.$typeforms.addClass("typeform-ready")},1e3)},2e3)})})):(b("body").addClass("typeform-default"),this.$typeforms.each(function(a){var c,e;return e=b(d.template.wrapper),e.css({position:"relative",width:"100%",height:"100%"}),c=b(d.template.iframe.replace("#url#",b(this).data("url"))),b(this).append(e.append(c)),0===a?c[0].contentWindow.focus():void 0}),b(window).on("message",function(a){return function(b){var d;return b=b.originalEvent,d=new RegExp("^(?:f|ht)tp(?:s)?://([^/]+)","im"),c=b.origin.match(d)[1].toString(),/typeform/.test(c)?/fancy/.test(b.data)?!1:"ESC"===b.data?a.close():window.location.href=b.data:!1}}(this)))},b}(),a=function(){function a(a,b){var c,d,e,f,g,h,i,j,k,l;j=this,k=b.name,h=document.createElement("link"),h.rel="stylesheet",h.href="https://s3-eu-west-1.amazonaws.com/share.typeform.com/style-widget.css",i=document.getElementsByTagName("head")[0],i.appendChild(h,i),l=!1,""!==b["welcome-image"]&&(l=!0,k="<img style='max-width:90%' src='"+b["welcome-image"]+"'/>"),b["font-google"]&&a('<link id="font" href="https://fonts.googleapis.com/css?family='+b["font-google"]+"&text="+b.name+'" rel="stylesheet" type="text/css">').appendTo(a("head")),this.$title=a(this.template.title.replace("#title#",k)).css({color:"#"+b["primary-color"],fontFamily:b["font-family"]}),e="","undefined"!==b["background-image"]&&(e="url("+b["background-image"]+")"),this.$background=a(this.template.background).css({backgroundColor:"#"+b["background-color"],backgroundImage:e,backgroundRepeat:b["background-repeat"]}),b["background-brightness"]&&(f=b["background-brightness"],g=f>0?255:0,this.$backgroundOverlay=a(this.template.backgroundOverlay).css({backgroundColor:"rgba("+g+","+g+","+g+","+Math.abs(f)+")"}),this.$backgroundOverlay.appendTo(this.$background)),d=a(this.template.text.replace("#text#",b.text)).css({color:"#"+b["primary-color"]}),c=a(this.template.overlay).css({backgroundColor:"#"+b["background-color"]}),this.$banner=a(this.template.banner.replace("#url#",b.url).replace("#account#",b.account)).append(this.$title).append(this.$background).append(c,d)}return a.prototype.template={banner:"<div class='typeform-banner'><a href='#url#' target='_blank'></a><div class='typeform-icon'></div></div>",text:"<div class='typeform-text'>#text#</div>",title:"<div class='typeform-title'>#title#</div>",background:"<div class='typeform-background'></div>",backgroundOverlay:"<div class='typeform-background-overlay'></div>",overlay:"<div class='typeform-overlay'></div>"},a.prototype.render=function(){return this.$banner},a.prototype.resize=function(){var a,b;return b=this.$background.height(),a=this.$title.height(),this.$title.css({top:(b-a)/2+"px"})},a}(),window.namespace=function(a,b,c){var e,f,g,h,i,j;for(arguments.length<3&&(i=[window].concat(d.call(arguments)),a=i[0],b=i[1],c=i[2]),f=a,j=b.split("."),g=0,h=j.length;h>g;g++)e=j[g],a=a[e]||(a[e]={});return c(a,f)},namespace("Typeform",function(a){return a.Widget=b}),window.typeformLoaded||new Typeform.Widget,window.typeformLoaded=!0}).call(this);